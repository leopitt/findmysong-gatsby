{"version":3,"sources":["webpack:///./src/components/Intro/Intro.js","webpack:///./src/components/Button/Button.js","webpack:///./src/components/NameForm/NameForm.js","webpack:///./src/components/ResultsTableRow/ResultsTableRow.js","webpack:///./src/components/ResultsTable/ResultsTable.js","webpack:///./src/pages/index.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/core-js/modules/es7.object.values.js"],"names":["Intro","className","Button","label","disabled","type","defaultProps","NameForm","props","handleInputChange","event","value","target","size","minSize","length","setState","inputName","isFormValid","handleResults","data","onResultsChange","handleError","err","handleSubmit","preventDefault","fetch","state","then","response","status","json","console","log","catch","bind","render","method","onSubmit","this","name","onChange","required","React","Component","ResultsTableRow","title","artist","spotify_id","deezer","href","siteTitle","ResultsTable","renderTableData","tracks","map","track","key","IndexPage","handleResultsChange","items","Object","values","item","push","track_name","artist_name","Layout","DESCRIPTORS","getKeys","toIObject","isEnum","f","module","exports","isEntries","it","O","keys","i","result","call","$export","$values","S"],"mappings":"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","file":"component---src-pages-index-js-1b5e23baa6b59d0b78bd.js","sourcesContent":["import React from \"react\"\n\nconst Intro = () => (\n  <div className=\"c-intro\">\n    <h1 className=\"c-intro__item c-intro__statement\">Use this site to find songs with your name in the lyrics.</h1>\n    <h2 className=\"c-intro__item c-intro__question\">What's your name?</h2>\n  </div>\n)\n\nexport default Intro\n","import PropTypes from \"prop-types\"\nimport React from \"react\"\n\nconst Button = ({ label, className, disabled }) => (\n  <button\n    className={className}\n    type=\"submit\"\n    disabled={disabled}\n  >\n    {label}\n  </button>\n)\n\nButton.propTypes = {\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n}\n\nButton.defaultProps = {\n  className: `c-button`,\n  disabled: false,\n  label: ``,\n}\n\nexport default Button\n","import PropTypes from \"prop-types\"\nimport React from \"react\"\n\nimport Button from \"../Button/Button\"\n\nexport default class NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.minSize = 4;\n    this.handleResults = this.handleResults.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.state = {\n      inputName: \"\",\n      isFormValid: false,\n      size: 4,\n    }\n  }\n\n  // Handle input field change.\n  handleInputChange = event => {\n    const target = event.target\n    const value = target.value\n    let size = this.minSize\n\n    if (value.length === 0) {\n      size = this.minSize\n    } else {\n      size = value.length\n    }\n\n    this.setState({\n      inputName: value,\n      size: size,\n    })\n\n    // Form is valid when the input value is set.\n    if (value.length > 0) {\n      this.setState({\n        isFormValid: true,\n      })\n    } else {\n      this.setState({\n        isFormValid: false,\n      })\n    }\n  }\n\n  handleResults = (data) => {\n    this.props.onResultsChange(data);\n  }\n\n  handleError = (err) => {\n    this.props.onResultsChange({});\n  }\n\n  // Handle form submit.\n  handleSubmit = event => {\n    event.preventDefault()\n    // See https://reactjs.org/docs/faq-ajax.html\n    fetch(`http://admin.findmysong.function-designing.co.uk/lyric-lookup/${this.state.inputName}`)\n      .then(response => {\n        if (response.status !== 200) {\n          console.log('Response status not 200. Status Code: ' +\n            response.status);\n          return;\n        }\n        return response.json()\n      })\n      .then(data => this.handleResults(data))\n      .catch(err => this.handleError(err))\n  }\n\n  // Render the form.\n  render() {\n    return <form\n      method=\"post\"\n      className=\"c-nameform\"\n      onSubmit={this.handleSubmit}\n    >\n      <label className=\"c-nameform__label\">My name is\n        <input\n          className=\"c-nameform__input\"\n          size={this.state.size}\n          name=\"inputName\"\n          onChange={this.handleInputChange}\n          required=\"required\"\n          type=\"text\"\n          value={this.state.inputName}\n        />,\n        <Button className=\"c-button c-button--big-text c-button--disabled\" disabled={!this.state.isFormValid} label=\"find my song\" />.</label>\n    </form>\n  }\n}\n\nNameForm.propTypes = {\n  onResultsChange: PropTypes.func,\n}\n\nNameForm.defaultProps = {\n  onResultsChange: null,\n}\n","import PropTypes from \"prop-types\"\nimport React from \"react\"\n\nconst ResultsTableRow = ({ title, artist, spotify_id, deezer }) => (\n  <tr className=\"c-results-table__row\">\n    <td className=\"c-results-table__row__field\">{title}</td>\n    <td className=\"c-results-table__row__field\">{artist}</td>\n    <td className=\"c-results-table__row__field\"><a href={\"https://open.spotify.com/embed/track/\" + spotify_id} target=\"_blank\">Spotify</a></td>\n    <td className=\"c-results-table__row__field c-results-table__row__field--hidden\">Deezer</td>\n  </tr>\n)\n\nResultsTableRow.propTypes = {\n  title: PropTypes.string,\n  artist: PropTypes.string,\n  deezer: PropTypes.string,\n  spotify_id: PropTypes.string,\n}\n\nResultsTableRow.defaultProps = {\n  siteTitle: ``,\n  artist: ``,\n  deezer: ``,\n  spotify_id: ``,\n}\n\nexport default ResultsTableRow\n","import React from \"react\"\n\nimport ResultsTableRow from \"../ResultsTableRow/ResultsTableRow\"\n\nexport default class ResultsTable extends React.Component {\n\n  renderTableData () {\n    return this.props.tracks.map((track, key) => {\n       return (\n          <ResultsTableRow key={key} title={track.title} artist={track.artist} spotify_id={track.spotify_id} />\n       )\n    })\n  }\n\n  render () {\n    const tracks = this.props.tracks\n    if (tracks && tracks.length > 0) {\n      return <table className=\"c-results-table\">\n          <thead className=\"c-results-table__head\">\n            <tr>\n              <th>Title</th>\n              <th>Artist</th>\n              <th>Spotify</th>\n              <th>Deezer</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.renderTableData()}\n          </tbody>\n        </table>\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\n\nimport Intro from \"../components/Intro/Intro\"\nimport Layout from \"../components/Layout/Layout\"\nimport NameForm from \"../components/NameForm/NameForm\"\nimport SEO from \"../components/seo\"\nimport ResultsTable from \"../components/ResultsTable/ResultsTable\"\n\nexport default class IndexPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleResultsChange = this.handleResultsChange.bind(this);\n    this.state = {\n      tracks: []\n    }\n  }\n\n  handleResultsChange(data) {\n    let items =  Object.values(data);\n    let tracks = [];\n    for (let key in items) {\n      let item = items[key];\n      tracks.push({\n        title: item.track.track_name,\n        artist: item.track.artist_name,\n        spotify_id: item.track.spotify_id,\n      });\n    }\n    this.setState({ tracks: tracks});\n  }\n\n  render() {\n    return (\n      <Layout>\n        <SEO title=\"Home\" />\n        <Intro />\n        <NameForm onResultsChange={this.handleResultsChange}/>\n        <ResultsTable tracks={this.state.tracks}/>\n      </Layout>\n    )\n  }\n}\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n"],"sourceRoot":""}