{"version":3,"sources":["webpack:///./src/components/Intro/Intro.js","webpack:///./src/components/Button/Button.js","webpack:///./src/components/NameForm/NameForm.js","webpack:///./src/components/ResultsTableRow/ResultsTableRow.js","webpack:///./src/components/ResultsTable/ResultsTable.js","webpack:///./src/pages/index.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/core-js/modules/es7.object.values.js"],"names":["Intro","className","Button","label","disabled","type","defaultProps","NameForm","props","handleInputChange","event","value","target","size","minSize","length","sizePad","setState","inputName","isFormValid","handleResults","data","onResultsChange","handleError","err","handleSubmit","preventDefault","handleSearch","fetch","state","then","response","status","json","console","log","catch","bind","hasBeenSearched","this","onSearch","getInputClassNames","render","method","onSubmit","name","onChange","required","React","Component","ResultsTableRow","title","artist","spotify_id","deezer","href","rel","siteTitle","ResultsTable","renderTableData","tracks","map","track","key","isSearching","IndexPage","handleResultsChange","items","Object","values","item","push","track_name","artist_name","Layout","DESCRIPTORS","getKeys","toIObject","isEnum","f","module","exports","isEntries","it","O","keys","i","result","call","$export","$values","S"],"mappings":"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","file":"component---src-pages-index-js-051589c7324be3795972.js","sourcesContent":["import React from \"react\"\n\nconst Intro = () => (\n  <div className=\"c-intro\">\n    <h1 className=\"c-intro__item c-intro__statement\">Use this site to find songs with your name in the lyrics.</h1>\n    <h2 className=\"c-intro__item c-intro__question\">What's your name?</h2>\n  </div>\n)\n\nexport default Intro\n","import PropTypes from \"prop-types\"\nimport React from \"react\"\n\nconst Button = ({ label, className, disabled }) => (\n  <button\n    className={className}\n    type=\"submit\"\n    disabled={disabled}\n  >\n    {label}\n  </button>\n)\n\nButton.propTypes = {\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n  label: PropTypes.string,\n}\n\nButton.defaultProps = {\n  className: `c-button`,\n  disabled: false,\n  label: ``,\n}\n\nexport default Button\n","import PropTypes from \"prop-types\"\nimport React from \"react\"\n\nimport Button from \"../Button/Button\"\n\nexport default class NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.minSize = 4;\n    this.sizePad = 1;\n    this.handleResults = this.handleResults.bind(this);\n    this.handleError = this.handleError.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.state = {\n      inputName: \"\",\n      isFormValid: false,\n      size: 4,\n      hasBeenSearched: false,\n    }\n  }\n\n  // Handle input field change.\n  handleInputChange = event => {\n    const target = event.target\n    const value = target.value\n    let size = this.minSize\n\n    if (value.length === 0) {\n      size = this.minSize\n    } else {\n      size = value.length + this.sizePad\n    }\n\n    this.setState({\n      inputName: value,\n      size: size,\n    })\n\n    // Form is valid when the input value is set.\n    if (value.length > 0) {\n      this.setState({\n        isFormValid: true,\n      })\n    } else {\n      this.setState({\n        isFormValid: false,\n      })\n    }\n  }\n\n  handleResults = (data) => {\n    this.props.onResultsChange(data);\n  }\n\n  handleError = (err) => {\n    this.props.onResultsChange({});\n  }\n\n  handleSearch() {\n    this.props.onSearch();\n  }\n\n  getInputClassNames() {\n    if (!this.state.isFormValid) {\n      return 'c-nameform__input c-nameform__input--throb'\n    } else {\n      return 'c-nameform__input'\n    }\n  }\n\n  // Handle form submit.\n  handleSubmit = event => {\n    event.preventDefault()\n    this.handleSearch()\n    // See https://reactjs.org/docs/faq-ajax.html\n    fetch(`http://admin.findmysong.function-designing.co.uk/lyric-lookup/${this.state.inputName}`)\n      .then(response => {\n        if (response.status !== 200) {\n          console.log('Response status not 200. Status Code: ' +\n            response.status);\n          return;\n        }\n        return response.json()\n      })\n      .then(data => this.handleResults(data))\n      .catch(err => this.handleError(err))\n  }\n\n  // Render the form.\n  render() {\n    return <form\n      method=\"post\"\n      className=\"c-nameform\"\n      onSubmit={this.handleSubmit}\n    >\n      <label className=\"c-nameform__label\"><span className=\"c-nameform__label__inner\">My name is</span>\n        <span className=\"c-nameform__input-wrapper\">\n          <input\n            className={this.getInputClassNames()}\n            size={this.state.size}\n            name=\"inputName\"\n            onChange={this.handleInputChange}\n            required=\"required\"\n            type=\"text\"\n            value={this.state.inputName}\n          />.\n        </span>\n        <Button className=\"c-button c-button--big-text c-button--no-left-pad c-button--disabled c-button--throb\" disabled={!this.state.isFormValid} label=\"find my song.\" /></label>\n    </form>\n  }\n}\n\nNameForm.propTypes = {\n  onResultsChange: PropTypes.func,\n}\n\nNameForm.defaultProps = {\n  onResultsChange: null,\n}\n","import PropTypes from \"prop-types\"\nimport React from \"react\"\n\nconst ResultsTableRow = ({ title, artist, spotify_id, deezer }) => (\n  <tr className=\"c-results-table__row\">\n    <td className=\"c-results-table__row__field\">{title}</td>\n    <td className=\"c-results-table__row__field\">{artist}</td>\n    <td className=\"c-results-table__row__field\"><a href={\"https://open.spotify.com/embed/track/\" + spotify_id} target=\"_blank\" rel=\"noopener noreferrer\" className=\"c-results-table__row__spotify\" title={\"Play \\\"\" + title + \"\\\" on Spotify\"}>Spotify</a></td>\n    <td className=\"c-results-table__row__field c-results-table__row__field--hidden\">Deezer</td>\n  </tr>\n)\n\nResultsTableRow.propTypes = {\n  title: PropTypes.string,\n  artist: PropTypes.string,\n  deezer: PropTypes.string,\n  spotify_id: PropTypes.string,\n}\n\nResultsTableRow.defaultProps = {\n  siteTitle: ``,\n  artist: ``,\n  deezer: ``,\n  spotify_id: ``,\n}\n\nexport default ResultsTableRow\n","import React from \"react\"\n\nimport ResultsTableRow from \"../ResultsTableRow/ResultsTableRow\"\n\nexport default class ResultsTable extends React.Component {\n\n  renderTableData () {\n    return this.props.tracks.map((track, key) => {\n       return (\n          <ResultsTableRow key={key} title={track.title} artist={track.artist} spotify_id={track.spotify_id} />\n       )\n    })\n  }\n\n  render () {\n    const tracks = this.props.tracks\n    const hasBeenSearched = this.props.hasBeenSearched\n    const isSearching = this.props.isSearching\n\n    if (isSearching) {\n      return <div className=\"c-results__throbber\"/>\n    }\n\n    if (tracks && tracks.length > 0) {\n      return <table className=\"c-results__table\">\n          <thead className=\"c-results__table__head\">\n            <tr>\n              <th>Title</th>\n              <th>Artist</th>\n              <th>Spotify</th>\n              <th>Deezer</th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.renderTableData()}\n          </tbody>\n        </table>\n    } else if (hasBeenSearched) {\n      return <p className=\"c-results__no-results\">Sorry, your name has inadequate cultural cache. Please get a different name.</p>\n    } else {\n      return null\n    }\n  }\n}\n","import React from \"react\"\n\nimport Intro from \"../components/Intro/Intro\"\nimport Layout from \"../components/Layout/Layout\"\nimport NameForm from \"../components/NameForm/NameForm\"\nimport SEO from \"../components/seo\"\nimport ResultsTable from \"../components/ResultsTable/ResultsTable\"\n\nexport default class IndexPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleResultsChange = this.handleResultsChange.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.state = {\n      tracks: [],\n      hasBeenSearched: false,\n      isSearching: false,\n    }\n  }\n\n  handleResultsChange(data) {\n    let items =  Object.values(data);\n    let tracks = [];\n\n    for (let key in items) {\n      let item = items[key];\n      tracks.push({\n        title: item.track.track_name,\n        artist: item.track.artist_name,\n        spotify_id: item.track.spotify_id,\n      });\n    }\n\n    this.setState({\n      tracks: tracks,\n      hasBeenSearched: true,\n      isSearching: false,\n    });\n  }\n\n  handleSearch() {\n    this.setState({\n      isSearching: true,\n    });\n  }\n\n  render() {\n    return (\n      <Layout>\n        <SEO title=\"Home\" />\n        <Intro />\n        <NameForm onResultsChange={this.handleResultsChange} onSearch={this.handleSearch} />\n        <ResultsTable tracks={this.state.tracks} hasBeenSearched={this.state.hasBeenSearched} isSearching={this.state.isSearching} />\n      </Layout>\n    )\n  }\n}\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n"],"sourceRoot":""}