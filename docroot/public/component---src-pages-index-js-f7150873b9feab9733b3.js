(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{RXBc:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));a("rGqo"),a("yt8O"),a("Btvt"),a("hhXQ");var n=a("q1tI"),r=a.n(n),s=function(){return r.a.createElement("div",{className:"c-intro"},r.a.createElement("h1",{className:"c-intro__item c-intro__statement"},"Use this site to find songs with your name in the lyrics."),r.a.createElement("h2",{className:"c-intro__item c-intro__question"},"What's your name?"))},l=a("yBb5"),i=function(e){var t=e.label,a=e.className,n=e.disabled;return r.a.createElement("button",{className:a,type:"submit",disabled:n},t)};i.defaultProps={className:"c-button",disabled:!1,label:""};var o=i;function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).handleInputChange=function(e){var t=e.target.value,n=a.minSize;n=0===t.length?a.minSize:t.length,a.setState({inputName:t,size:n}),t.length>0?a.setState({isFormValid:!0}):a.setState({isFormValid:!1})},a.handleResults=function(e){a.props.onResultsChange(e)},a.handleError=function(e){a.props.onResultsChange({})},a.handleSubmit=function(e){e.preventDefault(),fetch("http://admin.findmysong.function-designing.co.uk/lyric-lookup/"+a.state.inputName).then((function(e){if(200===e.status)return e.json();console.log("Response status not 200. Status Code: "+e.status)})).then((function(e){return a.handleResults(e)})).catch((function(e){return a.handleError(e)}))},a.minSize=4,a.handleResults=a.handleResults.bind(c(a)),a.handleError=a.handleError.bind(c(a)),a.state={inputName:"",isFormValid:!1,size:4},a}return a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a,n.prototype.render=function(){return r.a.createElement("form",{method:"post",className:"c-nameform",onSubmit:this.handleSubmit},r.a.createElement("label",{className:"c-nameform__label"},"My name is",r.a.createElement("input",{className:"c-nameform__input",size:this.state.size,name:"inputName",onChange:this.handleInputChange,required:"required",type:"text",value:this.state.inputName}),",",r.a.createElement(o,{className:"c-button c-button--big-text c-button--disabled",disabled:!this.state.isFormValid,label:"find my song"}),"."))},n}(r.a.Component);u.defaultProps={onResultsChange:null};var h=a("vrFN"),m=function(e){var t=e.title,a=e.artist;e.spotify,e.deezer;return r.a.createElement("tr",{className:"c-results-table__row"},r.a.createElement("td",{className:"c-results-table__row__field"},t),r.a.createElement("td",{className:"c-results-table__row__field"},a),r.a.createElement("td",{className:"c-results-table__row__field c-results-table__row__field--hidden"},"Spotify"),r.a.createElement("td",{className:"c-results-table__row__field c-results-table__row__field--hidden"},"Deezer"))};m.defaultProps={siteTitle:"",artist:"",deezer:"",spotify:""};var d=m;var p=function(e){var t,a;function n(){return e.apply(this,arguments)||this}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var s=n.prototype;return s.renderTableData=function(){return this.props.tracks.map((function(e,t){return r.a.createElement(d,{key:t,title:e.title,artist:e.artist})}))},s.render=function(){var e=this.props.tracks;return e&&e.length>0?r.a.createElement("table",{className:"c-results-table"},r.a.createElement("thead",{className:"c-results-table__head"},r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Artist"),r.a.createElement("th",null,"Spotify"),r.a.createElement("th",null,"Deezer"))),r.a.createElement("tbody",null,this.renderTableData())):null},n}(r.a.Component);var f=function(e){var t,a;function n(t){var a;return(a=e.call(this,t)||this).handleResultsChange=a.handleResultsChange.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(a)),a.state={tracks:[]},a}a=e,(t=n).prototype=Object.create(a.prototype),t.prototype.constructor=t,t.__proto__=a;var i=n.prototype;return i.handleResultsChange=function(e){var t=Object.values(e),a=[];for(var n in t){var r=t[n];a.push({title:r.track.track_name,artist:r.track.artist_name})}this.setState({tracks:a})},i.render=function(){return r.a.createElement(l.a,null,r.a.createElement(h.a,{title:"Home"}),r.a.createElement(s,null),r.a.createElement(u,{onResultsChange:this.handleResultsChange}),r.a.createElement(p,{tracks:this.state.tracks}))},n}(r.a.Component)},UExd:function(e,t,a){var n=a("nh4g"),r=a("DVgA"),s=a("aCFj"),l=a("UqcF").f;e.exports=function(e){return function(t){for(var a,i=s(t),o=r(i),c=o.length,u=0,h=[];c>u;)a=o[u++],n&&!l.call(i,a)||h.push(e?[a,i[a]]:i[a]);return h}}},hhXQ:function(e,t,a){var n=a("XKFU"),r=a("UExd")(!1);n(n.S,"Object",{values:function(e){return r(e)}})}}]);
//# sourceMappingURL=component---src-pages-index-js-f7150873b9feab9733b3.js.map